<app-navbar></app-navbar>
<div class="container main-container">
		
	<div class="card shadow mb-3">
		<div class="card-body">
			<div class="text-center">
				<h3><i class="fa fa-list"></i> All Deeds</h3>
				<hr class="mt-2 mb-2">
			</div>

			<div class="deeds">
				<div class="table-responsive">
					<table class="table table-striped">
						<thead>
							<tr>
								<th>Deed Code</th>
								<th>Deed Ref</th>
								<th>Deed Date<br><em>Registration Date</em></th>
								<th>Deed Name</th>
								<th>Agent Name</th>
								<th>Complete</th>

								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor='let deed of pagedDeeds'>
								<td>{{ deed.deedCode }}</td>
								<td>{{ deed.deedRef }}</td>
								<td><span *ngIf="deed.deedDate">{{ deed.deedDate }}</span><span *ngIf="!deed.deedDate && deed.registrationDate"><em>{{ deed.registrationDate }}</em></span></td>
								<td><span *ngIf="deed.deedName">{{ deed.deedName }}</span></td>
								<td><span *ngIf="deed.agent.firstName">{{ deed.agent.firstName }}</span> <span *ngIf="deed.agent.lastName">{{ deed.agent.lastName }}</span> <span *ngIf="deed.agent.corporationName">{{ deed.agent.corporationName }}</span></td>
								<td style="text-align:center"><md-icon *ngIf="deed.complete" class="md-24">check</md-icon></td>
								<td>
									<button md-raised-button color="primary" routerLink="/deed/{{ deed._id }}">Details</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<!-- pager -->
				<div class="row justify-content-center p-5">
					<nav aria-label="page navigation col-4">
						<ul *ngIf="pager.pages && pager.pages.length" class="pagination">
							<li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
								<a class="page-link" (click)="setPage(1)">First</a>
							</li>
							<li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
								<a class="page-link" (click)="setPage(pager.currentPage - 1)">Previous</a>
							</li>
							<li *ngFor="let page of pager.pages" class="page-item" [ngClass]="{active:pager.currentPage === page}">
								<a class="page-link" (click)="setPage(page)">{{page}}</a>
							</li>
							<li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
								<a class="page-link" (click)="setPage(pager.currentPage + 1)">Next</a>
							</li>
							<li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
								<a class="page-link" (click)="setPage(pager.totalPages)">Last</a>
							</li>
						</ul>
					</nav>
				</div>
			</div>
			<!-- pager -->
		</div>
	</div>
</div>
