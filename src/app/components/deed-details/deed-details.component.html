<div *ngIf="deed">
  <app-navbar></app-navbar>
  <app-note></app-note>
  <div class="d-flex flex-column actions">
    <div *ngIf="term">
      <a mat-fab matTooltip="Back to results" matTooltipPosition="before" matTooltipClass="'tooltip'" class="mb-2 basic"
        routerLink="/search" [queryParams]="{resultFor: term}">
        <mat-icon class="md-dark">arrow_back</mat-icon>
      </a>
    </div>
    <a mat-fab color="primary" matTooltip="Edit the deed" matTooltipPosition="before" matTooltipClass="'tooltip'" class="mb-2"
      routerLink="/deed/edit/{{ deed._id }}" [queryParams]="term?{resultFor: term}:{}">
      <mat-icon class="md-light">mode_edit</mat-icon>
    </a>
    <a mat-fab matTooltip="Download the deed" matTooltipPosition="before" matTooltipClass="'tooltip'" class="mb-2 basic"
      [href]="downloadUri" [download]="downloadName">
      <mat-icon class="md-dark">file_download</mat-icon>
    </a>
    <button mat-fab type="button" class="mb-2 basic" (click)="onDeleteClick(deed._id)" matTooltip="Delete the deed"
      matTooltipPosition="before" matTooltipClass="'tooltip'">
      <mat-icon class="md-dark">delete</mat-icon>
    </button>
  </div>

  <div class="container main-container">


    <div *ngIf="deed.complete === false" class="card shadow bg-yellow-500 mb-3 p-3 text-center">
      <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> There is more data in the manuscript</div>

    <!-- DEED INFORMATION -->
    <div class="card shadow mb-3">
      <div class="card-body">
        <div class="text-center">
          <h4>
            <i class="fa fa-info-circle"></i> Deed Information</h4>
          <hr class="mt-2 mb-2">
        </div>
        <div class="row no-gutters">
          <div class="col-3">
            <div class="list-group-item">Code:
              <span class="form-data" [innerHTML]="deed.deedCode | highlight: term"></span>
            </div>
          </div>
          <div class="col-3">
            <div class="list-group-item">Reference:
              <span class="form-data" [innerHTML]="deed.deedRef | highlight: term"></span>
            </div>
          </div>
          <div class="col-3">
            <div *ngIf="deed.deedDate.day || deed.deedDate.month || deed.deedDate.year" class="list-group-item">Date:
              <span class="form-data">
                <span *ngIf="deed.deedDate.day" [innerHTML]="deed.deedDate.day | highlight: term">-</span>
                <span *ngIf="deed.deedDate.month" [innerHTML]="deed.deedDate.month | highlight: term">-</span>
                <span *ngIf="deed.deedDate.year" [innerHTML]="deed.deedDate.year | highlight: term"></span>
              </span>
            </div>
          </div>
          <div class="col-3">
            <div *ngIf="deed.deedLanguage" class="list-group-item">Language:
              <span class="form-data" [innerHTML]="deed.deedLanguage | highlight: term"></span>
            </div>
          </div>
          <div class="col-12">
            <div *ngIf="deed.deedName" class="list-group-item">Name:
              <span class="form-data" [innerHTML]="deed.deedName | highlight: term"></span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- CONTRACTING PARTIES -->
    <div class="card shadow mb-3">
      <div class="card-body">
        <div class="text-center">
          <h4>
            <i class="fa fa-users"></i> Contracting Parties</h4>
          <hr class="mt-2 mb-2">
        </div>

        <!-- AGENT & COUNTER AGENT-->
        <div class="row">
          <div class="col">
            <div *ngIf="deed.agentSex" class="card mb-3">
              <div class="card-header">
                <h4 class="text-center">Agent
                  <span *ngIf="deed.agentSex" [ngSwitch]="deed.agentSex">
                    <span *ngSwitchCase="'male'">(M)</span>
                    <span *ngSwitchCase="'female'">(F)</span>
                    <span *ngSwitchCase="'body-corporate'">(B-C)</span>
                  </span>
                </h4>
              </div>
              <div class="card-body">
                <ul class="list-group">
                  <div [ngSwitch]="deed.agentSex">
                    <div *ngSwitchCase="'male'">
                      <li *ngIf="deed.agent.geogrStatus" class="list-group-item">Geogr Status:
                        <span class="form-data" [innerHTML]="deed.agent.geogrStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.socialStatus" class="list-group-item">Social Status:
                        <span class="form-data" [innerHTML]="deed.agent.socialStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.firstName" class="list-group-item">First Name:
                        <span class="form-data" [innerHTML]="deed.agent.firstName | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.patronyme" class="list-group-item">Patronyme:
                        <span class="form-data" [innerHTML]="deed.agent.patronyme | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.lastName" class="list-group-item">Last Name:
                        <span class="form-data" [innerHTML]="deed.agent.lastName | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.relatedTo" class="list-group-item">Related To:
                        <span class="form-data" [innerHTML]="deed.agent.relatedTo | highlight: term"></span>
                      </li>
                    </div>
                    <div *ngSwitchCase="'female'">
                      <li *ngIf="deed.agent.familyStatus" class="list-group-item">Family Status:
                        <span class="form-data" [innerHTML]="deed.agent.familyStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.firstName" class="list-group-item">First Name:
                        <span class="form-data" [innerHTML]="deed.agent.firstName | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.patronyme" class="list-group-item">Patronyme:
                        <span class="form-data" [innerHTML]="deed.agent.patronyme | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.relatedTo" class="list-group-item">Related To:
                        <span class="form-data" [innerHTML]="deed.agent.relatedTo | highlight: term"></span>
                      </li>
                      <div *ngIf="deed.agent.referentMale" class="card mb-3">
                        <div class="card-header">
                          <h5 class="text-center">Referent Male</h5>
                        </div>
                        <div class="card-body">
                          <ul class="list-group">
                            <li *ngIf="deed.agent.referentMale.relationshipToAgent" class="list-group-item">Relationship
                              To Agent:
                              <span class="form-data" [innerHTML]="deed.agent.referentMale.relationshipToAgent | highlight: term"></span>
                            </li>
                            <li *ngIf="deed.agent.referentMale.geogrStatus" class="list-group-item">Geogr Status:
                              <span class="form-data" [innerHTML]="deed.agent.referentMale.geogrStatus | highlight: term"></span>
                            </li>
                            <li *ngIf="deed.agent.referentMale.socialStatus" class="list-group-item">Social Status:
                              <span class="form-data" [innerHTML]="deed.agent.referentMale.socialStatus | highlight: term"></span>
                            </li>
                            <li *ngIf="deed.agent.referentMale.firstName" class="list-group-item">First Name:
                              <span class="form-data" [innerHTML]="deed.agent.referentMale.firstName | highlight: term"></span>
                            </li>
                            <li *ngIf="deed.agent.referentMale.patronyme" class="list-group-item">Patronyme:
                              <span class="form-data" [innerHTML]="deed.agent.referentMale.patronyme | highlight: term"></span>
                            </li>
                            <li *ngIf="deed.agent.referentMale.lastName" class="list-group-item">Last Name:
                              <span class="form-data" [innerHTML]="deed.agent.referentMale.lastName | highlight: term"></span>
                            </li>
                            <li *ngIf="deed.agent.referentMale.relatedTo" class="list-group-item">Related To:
                              <span class="form-data" [innerHTML]="deed.agent.referentMale.relatedTo | highlight: term"></span>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div *ngSwitchCase="'body-corporate'">
                      <li *ngIf="deed.agent.geogrStatus" class="list-group-item">Geogr Status:
                        <span class="form-data" [innerHTML]="deed.agent.geogrStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.socialStatus" class="list-group-item">Social Status:
                        <span class="form-data" [innerHTML]="deed.agent.socialStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.otherSocialStatus" class="list-group-item">Other Social Status:
                        <span class="form-data" [innerHTML]="deed.agent.otherSocialStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.corporationName" class="list-group-item">Corporation Name:
                        <span class="form-data" [innerHTML]="deed.agent.corporationName | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.patronyme" class="list-group-item">Patronyme:
                        <span class="form-data" [innerHTML]="deed.agent.patronyme | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.nbParticipants" class="list-group-item">Number Of Participants:
                        <span class="form-data" [innerHTML]="deed.agent.nbParticipants | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.agent.names" class="list-group-item">Names:
                        <span class="form-data" [innerHTML]="deed.agent.names | highlight: term"></span>
                      </li>
                    </div>
                  </div>
                </ul>
              </div>
            </div>
          </div>
          <div class="col">
            <div *ngIf="deed.counterAgentSex" class="card mb-3">
              <div class="card-header">
                <h4 class="text-center">Counter-Agent
                  <span *ngIf="deed.counterAgentSex" [ngSwitch]="deed.counterAgentSex">
                    <span *ngSwitchCase="'male'">(M)</span>
                    <span *ngSwitchCase="'female'">(F)</span>
                    <span *ngSwitchCase="'body-corporate'">(B-C)</span>
                  </span>
                </h4>
              </div>
              <div class="card-body">
                <ul class="list-group">
                  <div [ngSwitch]="deed.counterAgentSex">
                    <div *ngSwitchCase="'male'">
                      <li *ngIf="deed.counterAgent.geogrStatus" class="list-group-item">Geogr Status:
                        <span class="form-data" [innerHTML]="deed.counterAgent.geogrStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.socialStatus" class="list-group-item">Social Status:
                        <span class="form-data" [innerHTML]="deed.counterAgent.socialStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.firstName" class="list-group-item">First Name:
                        <span class="form-data" [innerHTML]="deed.counterAgent.firstName | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.patronyme" class="list-group-item">Patronyme:
                        <span class="form-data" [innerHTML]="deed.counterAgent.patronyme | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.lastName" class="list-group-item">Last Name:
                        <span class="form-data" [innerHTML]="deed.counterAgent.lastName | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.relatedTo" class="list-group-item">Related To:
                        <span class="form-data" [innerHTML]="deed.counterAgent.relatedTo | highlight: term"></span>
                      </li>
                    </div>
                    <div *ngSwitchCase="'female'">
                      <li *ngIf="deed.counterAgent.familyStatus" class="list-group-item">Family Status:
                        <span class="form-data" [innerHTML]="deed.counterAgent.familyStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.firstName" class="list-group-item">First Name:
                        <span class="form-data" [innerHTML]="deed.counterAgent.firstName | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.patronyme" class="list-group-item">Patronyme:
                        <span class="form-data" [innerHTML]="deed.counterAgent.patronyme | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.relatedTo" class="list-group-item">Related To:
                        <span class="form-data" [innerHTML]="deed.counterAgent.relatedTo | highlight: term"></span>
                      </li>
                      <div *ngIf="deed.counterAgent.referentMale" class="card mb-3">
                        <div class="card-header">
                          <h5 class="text-center">Referent Male</h5>
                        </div>
                        <div class="card-body">
                          <ul class="list-group">
                            <li *ngIf="deed.counterAgent.referentMale.relationshipToAgent" class="list-group-item">Relationship
                              To Agent:
                              <span class="form-data" [innerHTML]="deed.counterAgent.referentMale.relationshipToAgent | highlight: term"></span>
                            </li>
                            <li *ngIf="deed.counterAgent.referentMale.geogrStatus" class="list-group-item">Geogr
                              Status:
                              <span class="form-data" [innerHTML]="deed.counterAgent.referentMale.geogrStatus | highlight: term"></span>
                            </li>
                            <li *ngIf="deed.counterAgent.referentMale.socialStatus" class="list-group-item">Social
                              Status:
                              <span class="form-data" [innerHTML]="deed.counterAgent.referentMale.socialStatus | highlight: term"></span>
                            </li>
                            <li *ngIf="deed.counterAgent.referentMale.firstName" class="list-group-item">First Name:
                              <span class="form-data" [innerHTML]="deed.counterAgent.referentMale.firstName | highlight: term"></span>
                            </li>
                            <li *ngIf="deed.counterAgent.referentMale.patronyme" class="list-group-item">Patronyme:
                              <span class="form-data" [innerHTML]="deed.counterAgent.referentMale.patronyme | highlight: term"></span>
                            </li>
                            <li *ngIf="deed.counterAgent.referentMale.lastName" class="list-group-item">Last Name:
                              <span class="form-data" [innerHTML]="deed.counterAgent.referentMale.lastName | highlight: term"></span>
                            </li>
                            <li *ngIf="deed.counterAgent.referentMale.relatedTo" class="list-group-item">Related To:
                              <span class="form-data" [innerHTML]="deed.counterAgent.referentMale.relatedTo | highlight: term"></span>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div *ngSwitchCase="'body-corporate'">
                      <li *ngIf="deed.counterAgent.geogrStatus" class="list-group-item">Geogr Status:
                        <span class="form-data" [innerHTML]="deed.counterAgent.geogrStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.socialStatus" class="list-group-item">Social Status:
                        <span class="form-data" [innerHTML]="deed.counterAgent.socialStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.otherSocialStatus" class="list-group-item">Other Social Status:
                        <span class="form-data" [innerHTML]="deed.counterAgent.otherSocialStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.corporationName" class="list-group-item">Corporation Name:
                        <span class="form-data" [innerHTML]="deed.counterAgent.corporationName | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.patronyme" class="list-group-item">Patronyme:
                        <span class="form-data" [innerHTML]="deed.counterAgent.patronyme | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.nbParticipants" class="list-group-item">Number Of Participants:
                        <span class="form-data" [innerHTML]="deed.counterAgent.nbParticipants | highlight: term"></span>
                      </li>
                      <li *ngIf="deed.counterAgent.names" class="list-group-item">Names:
                        <span class="form-data" [innerHTML]="deed.counterAgent.names | highlight: term"></span>
                      </li>
                    </div>
                  </div>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <!-- COAGENTS -->
        <div *ngIf="deed.coAgents.length > 0 || deed.coCounterAgents.length > 0 || deed.collectiveCoAgent || deed.collectiveCoCounterAgent"
          class="card mb-3">
          <div class="card-header">
            <div class="row justify-content-center">
              <div class="col-4">
                <h4 class="text-center">Co Contracting Parties</h4>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div *ngIf="deed.coAgents.length > 0">
              <ng-template ngFor let-coAgent [ngForOf]="deed.coAgents" let-i="index">
                <h5 class="text-center bg-grey">Co-Agent {{i + 1}}
                  <span *ngIf="coAgent.coAgentSex" [ngSwitch]="coAgent.coAgentSex">
                    <span *ngSwitchCase="'male'">(M)</span>
                    <span *ngSwitchCase="'female'">(F)</span>
                    <span *ngSwitchCase="'body-corporate'">(B-C)</span>
                  </span>
                </h5>
                <div [ngSwitch]="coAgent.coAgentSex">
                  <div *ngSwitchCase="'male'" class="row no-gutters mb-3">
                    <div class="col-6">
                      <div *ngIf="coAgent.coAgent.geogrStatus" class="list-group-item">Geogr Status:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.geogrStatus | highlight: term"></span>
                      </div>
                      <div *ngIf="coAgent.coAgent.firstName" class="list-group-item">First Name:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.firstName | highlight: term"></span>
                      </div>
                      <div *ngIf="coAgent.coAgent.lastName" class="list-group-item">Last Name:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.lastName | highlight: term"></span>
                      </div>
                    </div>
                    <div class="col-6">
                      <div *ngIf="coAgent.coAgent.socialStatus" class="list-group-item">Social Status:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.socialStatus | highlight: term"></span>
                      </div>
                      <div *ngIf="coAgent.coAgent.patronyme" class="list-group-item">Patronyme:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.patronyme | highlight: term"></span>
                      </div>
                      <div *ngIf="coAgent.coAgent.relatedTo" class="list-group-item">Related To:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.relatedTo | highlight: term"></span>
                      </div>
                    </div>
                  </div>
                  <div *ngSwitchCase="'female'">
                    <div class="row no-gutters mb-3">
                      <div class="col-6">
                        <div *ngIf="coAgent.coAgent.familyStatus" class="list-group-item">Family Status:
                          <span class="form-data" [innerHTML]="coAgent.coAgent.familyStatus"></span>
                        </div>
                        <div *ngIf="coAgent.coAgent.patronyme" class="list-group-item">Patronyme:
                          <span class="form-data" [innerHTML]="coAgent.coAgent.patronyme"></span>
                        </div>
                      </div>
                      <div class="col-6">
                        <div *ngIf="coAgent.coAgent.firstName" class="list-group-item">First Name:
                          <span class="form-data" [innerHTML]="coAgent.coAgent.firstName"></span>
                        </div>
                        <div *ngIf="coAgent.coAgent.relatedTo" class="list-group-item">Related To:
                          <span class="form-data" [innerHTML]="coAgent.coAgent.relatedTo"></span>
                        </div>
                      </div>
                    </div>
                    <div *ngIf="coAgent.coAgent.referentMale" class="row no-gutters mb-3">
                      <h6 class="text-center col-12">
                        <em>Referent Male of Co-Agent {{ i + 1 }}</em>
                      </h6>
                      <div class="col-6">
                        <div *ngIf="coAgent.coAgent.referentMale.relationshipToCoAgent" class="list-group-item">Relationship
                          To Co-Agent:
                          <span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.relationshipToCoAgent | highlight: term"></span>
                        </div>
                        <div *ngIf="coAgent.coAgent.referentMale.socialStatus" class="list-group-item">Social Status:
                          <span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.socialStatus | highlight: term"></span>
                        </div>
                        <div *ngIf="coAgent.coAgent.referentMale.patronyme" class="list-group-item">Patronyme:
                          <span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.patronyme | highlight: term"></span>
                        </div>
                      </div>
                      <div class="col-6">
                        <div *ngIf="coAgent.coAgent.referentMale.geogrStatus" class="list-group-item">Geogr Status:
                          <span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.geogrStatus | highlight: term"></span>
                        </div>
                        <div *ngIf="coAgent.coAgent.referentMale.firstName" class="list-group-item">First Name:
                          <span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.firstName | highlight: term"></span>
                        </div>
                        <div *ngIf="coAgent.coAgent.referentMale.lastName" class="list-group-item">Last Name:
                          <span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.lastName | highlight: term"></span>
                        </div>
                      </div>
                      <div class="col-12">
                        <div *ngIf="coAgent.coAgent.referentMale.relatedTo" class="list-group-item">Related To:
                          <span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.relatedTo | highlight: term"></span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div *ngSwitchCase="'body-corporate'" class="row no-gutters mb-3">
                    <div class="col-6">
                      <div *ngIf="coAgent.coAgent.geogrStatus" class="list-group-item">Geogr Status:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.geogrStatus | highlight: term"></span>
                      </div>
                      <div *ngIf="coAgent.coAgent.socialStatus" class="list-group-item">Social Status:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.socialStatus | highlight: term"></span>
                      </div>
                      <div *ngIf="coAgent.coAgent.otherSocialStatus" class="list-group-item">Other Social Status:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.otherSocialStatus | highlight: term"></span>
                      </div>
                    </div>
                    <div class="col-6">
                      <div *ngIf="coAgent.coAgent.corporationName" class="list-group-item">Corporation Name:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.corporationName | highlight: term"></span>
                      </div>
                      <div *ngIf="coAgent.coAgent.patronyme" class="list-group-item">Patronyme:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.patronyme | highlight: term"></span>
                      </div>
                      <div *ngIf="coAgent.coAgent.nbParticipants" class="list-group-item">Number Of Participants:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.nbParticipants | highlight: term"></span>
                      </div>
                    </div>
                    <div class="col-12">
                      <div *ngIf="coAgent.coAgent.names" class="list-group-item">Names:
                        <span class="form-data" [innerHTML]="coAgent.coAgent.names | highlight: term"></span>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-template>
            </div>
            <div *ngIf="deed.collectiveCoAgent">
              <h5 class="text-center bg-grey">Collective Co-Agent</h5>
              <div class="row no-gutters mb-3">
                <div class="col-8">
                  <div *ngIf="deed.collectiveCoAgent.relationToAgent" class="list-group-item">Relation to Agent:
                    <span class="form-data" [innerHTML]="deed.collectiveCoAgent.relationToAgent"></span>
                  </div>
                </div>
                <div class="col-4">
                  <div *ngIf="deed.collectiveCoAgent.numberOfParticipants" class="list-group-item">Number of
                    Participants:
                    <span class="form-data" [innerHTML]="deed.collectiveCoAgent.numberOfParticipants"></span>
                  </div>
                </div>
                <div class="col-12">
                  <div *ngIf="deed.collectiveCoAgent.statusesNames" class="list-group-item">Statuses Names:
                    <span class="form-data" [innerHTML]="deed.collectiveCoAgent.statusesNames"></span>
                  </div>
                </div>
              </div>
            </div>
            <div *ngIf="deed.coCounterAgents.length > 0">
              <ng-template ngFor let-coCounterAgent [ngForOf]="deed.coCounterAgents" let-i="index">
                <h5 class="text-center bg-grey">Co-Counter Agent {{i + 1}}
                  <span *ngIf="coCounterAgent.coCounterAgentSex" [ngSwitch]="coCounterAgent.coCounterAgentSex">
                    <span *ngSwitchCase="'male'">(M)</span>
                    <span *ngSwitchCase="'female'">(F)</span>
                    <span *ngSwitchCase="'body-corporate'">(B-C)</span>
                  </span>
                </h5>
                <div [ngSwitch]="coCounterAgent.coCounterAgentSex">
                  <div *ngSwitchCase="'male'" class="row no-gutters mb-3">
                    <div class="col-6">
                      <div *ngIf="coCounterAgent.coCounterAgent.geogrStatus" class="list-group-item">Geogr Status:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.geogrStatus | highlight: term"></span>
                      </div>
                      <div *ngIf="coCounterAgent.coCounterAgent.firstName" class="list-group-item">First Name:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.firstName | highlight: term"></span>
                      </div>
                      <div *ngIf="coCounterAgent.coCounterAgent.lastName" class="list-group-item">Last Name:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.lastName | highlight: term"></span>
                      </div>
                    </div>
                    <div class="col-6">
                      <div *ngIf="coCounterAgent.coCounterAgent.socialStatus" class="list-group-item">Social Status:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.socialStatus | highlight: term"></span>
                      </div>
                      <div *ngIf="coCounterAgent.coCounterAgent.patronyme" class="list-group-item">Patronyme:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.patronyme | highlight: term"></span>
                      </div>
                      <div *ngIf="coCounterAgent.coCounterAgent.relatedTo" class="list-group-item">Related To:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.relatedTo | highlight: term"></span>
                      </div>
                    </div>
                  </div>
                  <div *ngSwitchCase="'female'">
                    <div class="row no-gutters mb-3">
                      <div *ngIf="coCounterAgent.coCounterAgent.familyStatus" class="list-group-item">Family Status:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.familyStatus | highlight: term"></span>
                      </div>
                      <div *ngIf="coCounterAgent.coCounterAgent.firstName" class="list-group-item">First Name:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.firstName | highlight: term"></span>
                      </div>
                      <div *ngIf="coCounterAgent.coCounterAgent.patronyme" class="list-group-item">Patronyme:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.patronyme | highlight: term"></span>
                      </div>
                      <div *ngIf="coCounterAgent.coCounterAgent.relatedTo" class="list-group-item">Related To:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.relatedTo | highlight: term"></span>
                      </div>
                    </div>
                    <div *ngIf="coCounterAgent.coCounterAgent.referentMale" class="row no-gutters mb-3">
                      <h5 class="text-center">
                        <em>Referent Male of Co-Counter {{i + 1}}</em>
                      </h5>
                      <div class="col-6">
                        <div *ngIf="coCounterAgent.coCounterAgent.referentMale.relationshipToAgent" class="list-group-item">Relationship
                          To Co-Agent:
                          <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.referentMale.relationshipToAgent | highlight: term"></span>
                        </div>
                        <div *ngIf="coCounterAgent.coCounterAgent.referentMale.geogrStatus" class="list-group-item">Geogr
                          Status:
                          <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.referentMale.geogrStatus | highlight: term"></span>
                        </div>
                        <div *ngIf="coCounterAgent.coCounterAgent.referentMale.socialStatus" class="list-group-item">Social
                          Status:
                          <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.referentMale.socialStatus | highlight: term"></span>
                        </div>
                      </div>
                      <div class="col-6">
                        <div *ngIf="coCounterAgent.coCounterAgent.referentMale.firstName" class="list-group-item">First
                          Name:
                          <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.referentMale.firstName | highlight: term"></span>
                        </div>
                        <div *ngIf="coCounterAgent.coCounterAgent.referentMale.patronyme" class="list-group-item">Patronyme:
                          <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.referentMale.patronyme | highlight: term"></span>
                        </div>
                        <div *ngIf="coCounterAgent.coCounterAgent.referentMale.lastName" class="list-group-item">Last
                          Name:
                          <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.referentMale.lastName | highlight: term"></span>
                        </div>
                      </div>
                      <div class="col-12">
                        <div *ngIf="coCounterAgent.coCounterAgent.referentMale.relatedTo" class="list-group-item">Related
                          To:
                          <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.referentMale.relatedTo | highlight: term"></span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div *ngSwitchCase="'body-corporate'" class="row no-gutters mb-3">
                    <div class="col-6">
                      <div *ngIf="coCounterAgent.coCounterAgent.geogrStatus" class="list-group-item">Geogr Status:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.geogrStatus | highlight: term"></span>
                      </div>
                      <div *ngIf="coCounterAgent.coCounterAgent.socialStatus" class="list-group-item">Social Status:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.socialStatus | highlight: term"></span>
                      </div>
                      <div *ngIf="coCounterAgent.coCounterAgent.otherSocialStatus" class="list-group-item">Other Social
                        Status:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.otherSocialStatus | highlight: term"></span>
                      </div>
                    </div>
                    <div class="col-6">
                      <div *ngIf="coCounterAgent.coCounterAgent.corporationName" class="list-group-item">Corporation
                        Name:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.corporationName | highlight: term"></span>
                      </div>
                      <div *ngIf="coCounterAgent.coCounterAgent.patronyme" class="list-group-item">Patronyme:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.patronyme | highlight: term"></span>
                      </div>
                      <div *ngIf="coCounterAgent.coCounterAgent.nbParticipants" class="list-group-item">Number Of
                        Participants:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.nbParticipants | highlight: term"></span>
                      </div>
                    </div>
                    <div class="col-12">
                      <div *ngIf="coCounterAgent.coCounterAgent.names" class="list-group-item">Names:
                        <span class="form-data" [innerHTML]="coCounterAgent.coCounterAgent.names | highlight: term"></span>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-template>
            </div>
            <div *ngIf="deed.collectiveCoCounterAgent">
              <h5 class="text-center bg-grey">Collective Co-Counter Agent</h5>
              <div class="row no-gutters mb-3">
                <div class="col-8">
                  <div *ngIf="deed.collectiveCoCounterAgent.relationToAgent" class="list-group-item">Relation to Agent:
                    <span class="form-data" [innerHTML]="deed.collectiveCoCounterAgent.relationToAgent | highlight: term"></span>
                  </div>
                </div>
                <div class="col-4">
                  <div *ngIf="deed.collectiveCoCounterAgent.numberOfParticipants" class="list-group-item">Number of
                    Participants:
                    <span class="form-data" [innerHTML]="deed.collectiveCoCounterAgent.numberOfParticipants | highlight: term"></span>
                  </div>
                </div>
                <div class="col-12">
                  <div *ngIf="deed.collectiveCoCounterAgent.statusesNames" class="list-group-item">Statuses Names:
                    <span class="form-data" [innerHTML]="deed.collectiveCoCounterAgent.statusesNames | highlight: term"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- END Card Block Contracting Parties -->
    </div>
    <!-- END Card Contracting Parties -->


    <!-- TRANSACTION -->
    <div class="card shadow mb-3">
      <div class="card-body">
        <div class="text-center">
          <h3>
            <i class="fa fa-handshake-o"></i> Transactions</h3>
          <hr class="mt-2 mb-2">
        </div>
        <ng-template ngFor let-transaction [ngForOf]="deed.transactions" let-i="index">
          <div class="card mb-3">
            <div class="card-header light-blue lighten-3">
              <div class="row justify-content-center">
                <div class="col-4">
                  <h4 class="text-center">Transaction {{i + 1}}</h4>
                </div>
              </div>
            </div>
            <div class="card-body">

              <!-- AGENT TRANSACTION -->
              <div *ngIf="transaction.agentAction" class="alert alert-info">
                <h5 class="text-center p-3">The Agent
                  <span class="text-uppercase" [innerHTML]="transaction.agentAction | highlight: term"></span>
                </h5>
              </div>
              <div *ngIf="transaction.otherAgentAction" class="list-group-item">Other Agent Action:
                <span class="form-data" [innerHTML]="transaction.otherAgentAction | highlight: term"></span>
              </div>
              <div *ngIf="transaction.accusationAgainstAgent" class="list-group-item">Accusation against Agent:
                <span class="form-data" [innerHTML]="transaction.accusationAgainstAgent | highlight: term"></span>
              </div>
              <ng-template ngFor let-agentTransactionObject [ngForOf]="transaction.agentTransactionObjects" let-j="index">
                <div *ngIf="agentTransactionObject.chattels" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Chattels</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <div class="row no-gutters mb-3">
                      <div class="col-12">
                        <div *ngIf="agentTransactionObject.chattels.type" class="list-group-item">Chattels Type:
                          <span class="form-data" [innerHTML]="agentTransactionObject.chattels.type | highlight: term"></span>
                        </div>
                        <div *ngIf="agentTransactionObject.chattels.origin" class="list-group-item">Chattels Origin:
                          <span class="form-data" [innerHTML]="agentTransactionObject.chattels.origin | highlight: term"></span>
                        </div>
                      </div>
                      <div class="col-12">
                        <div *ngIf="agentTransactionObject.chattels.description" class="list-group-item">Chattels
                          Description:
                          <span class="form-data" [innerHTML]="agentTransactionObject.chattels.description | highlight: term"></span>
                        </div>
                        <div *ngIf="deed.schemaVersion === 1 ">
                          <div *ngIf="agentTransactionObject.chattels.price" class="list-group-item">Chattels Price:
                            <span class="form-data" [innerHTML]="agentTransactionObject.chattels.price | highlight: term"></span>
                          </div>
                        </div>
                        <div *ngIf="deed.schemaVersion === 2">
                          <div class="list-group-item col-12">Price in:
                            <ng-template ngFor let-price [ngForOf]="agentTransactionObject.chattels.price" let-o="index">
                              <div>
                                <span class="form-data" [innerHTML]="price.coins | highlight: term"></span>:
                                <span class="form-data" [innerHTML]="price.rubli | highlight: term"></span> rubli
                                <span class="form-data" [innerHTML]="price.altyny | highlight: term"></span>
                                altyny
                                <span class="form-data" [innerHTML]="price.dengi | highlight: term"></span> dengi
                              </div>
                            </ng-template>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.debt" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Debt</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <div class="row no-gutters mb-3">
                      <div *ngIf="deed.schemaVersion === 1">
                        <div *ngIf="agentTransactionObject.debt.amount.moscowSilver.rubli || agentTransactionObject.debt.amount.moscowSilver.altyny || agentTransactionObject.debt.amount.moscowSilver.dengi"
                          class="list-group-item">Amount in Moscow Silver:
                          <span *ngIf="agentTransactionObject.debt.amount.moscowSilver.rubli" class="form-data">
                            <span [innerHTML]="agentTransactionObject.debt.amount.moscowSilver.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="agentTransactionObject.debt.amount.moscowSilver.altyny" class="form-data">
                            <span [innerHTML]="agentTransactionObject.debt.amount.moscowSilver.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="agentTransactionObject.debt.amount.moscowSilver.dengi" class="form-data">
                            <span [innerHTML]="agentTransactionObject.debt.amount.moscowSilver.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </div>
                        <div *ngIf="agentTransactionObject.debt.amount.chekhi.rubli || agentTransactionObject.debt.amount.chekhi.altyny || agentTransactionObject.debt.amount.chekhi.dengi"
                          class="list-group-item">Amount in Chekhi:
                          <span *ngIf="agentTransactionObject.debt.amount.chekhi.rubli" class="form-data">
                            <span [innerHTML]="agentTransactionObject.debt.amount.chekhi.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="agentTransactionObject.debt.amount.chekhi.altyny" class="form-data">
                            <span [innerHTML]="agentTransactionObject.debt.amount.chekhi.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="agentTransactionObject.debt.amount.chekhi.dengi" class="form-data">
                            <span [innerHTML]="agentTransactionObject.debt.amount.chekhi.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </div>
                      </div>
                      <div *ngIf="deed.schemaVersion === 2">
                        <div class="list-group-item col-12">Amount in:
                          <ng-template ngFor let-debtamount [ngForOf]="agentTransactionObject.debt.amount" let-o="index">
                            <div>
                              <span class="form-data" [innerHTML]="debtamount.coins | highlight: term"></span>:
                              <span class="form-data" [innerHTML]="debtamount.rubli | highlight: term"></span> rubli
                              <span class="form-data" [innerHTML]="debtamount.altyny | highlight: term"></span>
                              altyny
                              <span class="form-data" [innerHTML]="debtamount.dengi | highlight: term"></span> dengi
                            </div>
                          </ng-template>
                        </div>
                      </div>
                      <div *ngIf="agentTransactionObject.debt.debtorName" class="list-group-item">Debtor Name:
                        <span class="form-data" [innerHTML]="agentTransactionObject.debt.debtorName | highlight: term"></span>
                      </div>

                      <div *ngIf="agentTransactionObject.debt.debtDate" class="list-group-item">Debt Date:
                        <span class="form-data" [innerHTML]="agentTransactionObject.debt.debtDate | highlight: term"></span>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.dependent" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Dependent</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.dependent.familyStatus" class="list-group-item">
                        Family Status:
                        <span class="form-data" [innerHTML]="agentTransactionObject.dependent.familyStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.dependent.firstName" class="list-group-item">
                        First Name:
                        <span class="form-data" [innerHTML]="agentTransactionObject.dependent.firstName"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.dependent.patronyme" class="list-group-item">
                        Patronyme:
                        <span class="form-data" [innerHTML]="agentTransactionObject.dependent.patronyme | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.dependent.lastName" class="list-group-item">
                        Last Name:
                        <span class="form-data" [innerHTML]="agentTransactionObject.dependent.lastName | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.dependent.relationToAgent" class="list-group-item">
                        Relation To Agent:
                        <span class="form-data" [innerHTML]="agentTransactionObject.dependent.relationToAgent | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.forfeit" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Forfeit</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <div *ngIf="deed.schemaVersion === 1">

                      <ul class="list-group">

                        <li *ngIf="agentTransactionObject.forfeit.moscowSilver.rubli || agentTransactionObject.forfeit.moscowSilver.altyny || agentTransactionObject.forfeit.moscowSilver.dengi"
                          class="list-group-item">
                          Amount in Moscow Silver:
                          <span *ngIf="agentTransactionObject.forfeit.moscowSilver.rubli" class="form-data">
                            <span [innerHTML]="agentTransactionObject.forfeit.moscowSilver.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="agentTransactionObject.forfeit.moscowSilver.altyny" class="form-data">
                            <span [innerHTML]="agentTransactionObject.forfeit.moscowSilver.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="agentTransactionObject.forfeit.moscowSilver.dengi" class="form-data">
                            <span [innerHTML]="agentTransactionObject.forfeit.moscowSilver.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                        <li *ngIf="agentTransactionObject.forfeit.chekhi.rubli || agentTransactionObject.forfeit.chekhi.altyny || agentTransactionObject.forfeit.chekhi.dengi"
                          class="list-group-item">
                          Amount in Chekhi:
                          <span *ngIf="agentTransactionObject.forfeit.chekhi.rubli" class="form-data">
                            <span [innerHTML]="agentTransactionObject.forfeit.chekhi.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="agentTransactionObject.forfeit.chekhi.altyny" class="form-data">
                            <span [innerHTML]="agentTransactionObject.forfeit.chekhi.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="agentTransactionObject.forfeit.chekhi.dengi" class="form-data">
                            <span [innerHTML]="agentTransactionObject.forfeit.chekhi.altyny | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                      </ul>
                    </div>

                    <div *ngIf="deed.schemaVersion === 2">
                      <div class="list-group-item col-12">Amount in:
                        <ng-template ngFor let-forfeitamount [ngForOf]="agentTransactionObject.forfeit" let-o="index">
                          <div>
                            <span class="form-data" [innerHTML]="forfeitamount.coins | highlight: term"></span>:
                            <span class="form-data" [innerHTML]="forfeitamount.rubli | highlight: term"></span> rubli
                            <span class="form-data" [innerHTML]="forfeitamount.altyny | highlight: term"></span>
                            altyny
                            <span class="form-data" [innerHTML]="forfeitamount.dengi | highlight: term"></span> dengi
                          </div>
                        </ng-template>
                      </div>
                    </div>



                  </div>
                </div>
                <div *ngIf="agentTransactionObject.fugitiveSouls" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Fugitive Souls</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.fugitiveSouls.juridicalStatus" class="list-group-item">
                        Juridical Status:
                        <span class="form-data" [innerHTML]="agentTransactionObject.fugitiveSouls.juridicalStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.fugitiveSouls.numberOfSouls.male || agentTransactionObject.fugitiveSouls.numberOfSouls.female || agentTransactionObject.fugitiveSouls.numberOfSouls.households"
                        class="list-group-item">
                        Number of Souls:
                        <span *ngIf="agentTransactionObject.fugitiveSouls.numberOfSouls.male" class="form-data">
                          <span [innerHTML]="agentTransactionObject.fugitiveSouls.numberOfSouls.male | highlight: term"></span>
                          male /
                        </span>
                        <span *ngIf="agentTransactionObject.fugitiveSouls.numberOfSouls.female" class="form-data">
                          <span [innerHTML]="agentTransactionObject.fugitiveSouls.numberOfSouls.female | highlight: term"></span>
                          female
                        </span>
                        <span *ngIf="agentTransactionObject.fugitiveSouls.numberOfSouls.households" class="form-data">
                          <span [innerHTML]="agentTransactionObject.fugitiveSouls.numberOfSouls.operator"></span>
                          <span [innerHTML]="agentTransactionObject.fugitiveSouls.numberOfSouls.households | highlight: term"></span>
                          households
                        </span>
                      </li>
                      <li *ngIf="agentTransactionObject.fugitiveSouls.names" class="list-group-item">
                        Names:
                        <span class="form-data" [innerHTML]="agentTransactionObject.fugitiveSouls.names | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.fugitiveSouls.yearsOfRent" class="list-group-item">
                        Years of Rent:
                        <span class="form-data" [innerHTML]="agentTransactionObject.fugitiveSouls.yearsOfRent | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.goods" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Goods</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">

                    <div *ngIf="deed.schemaVersion === 1">
                      <ul class="list-group">
                        <li *ngIf="agentTransactionObject.goods.type" class="list-group-item">
                          Type:
                          <span class="form-data" [innerHTML]="agentTransactionObject.goods.type | highlight: term"></span>
                        </li>
                        <li *ngIf="agentTransactionObject.goods.description" class="list-group-item">
                          Description:
                          <span class="form-data" [innerHTML]="agentTransactionObject.goods.description | highlight: term"></span>
                        </li>
                        <li *ngIf="agentTransactionObject.goods.price.moscowSilver.rubli || agentTransactionObject.goods.price.moscowSilver.altyny || agentTransactionObject.goods.price.moscowSilver.dengi"
                          class="list-group-item">
                          Price in Moscow Silver:
                          <span *ngIf="agentTransactionObject.goods.price.moscowSilver.rubli" class="form-data">
                            <span [innerHTML]="agentTransactionObject.goods.price.moscowSilver.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="agentTransactionObject.goods.price.moscowSilver.altyny" class="form-data">
                            <span [innerHTML]="agentTransactionObject.goods.price.moscowSilver.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="agentTransactionObject.goods.price.moscowSilver.dengi" class="form-data">
                            <span [innerHTML]="agentTransactionObject.goods.price.moscowSilver.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                        <li *ngIf="agentTransactionObject.goods.price.chekhi.rubli || agentTransactionObject.goods.price.chekhi.altyny || agentTransactionObject.goods.price.chekhi.dengi"
                          class="list-group-item">
                          Price in Chekhi:
                          <span *ngIf="agentTransactionObject.goods.price.chekhi.rubli" class="form-data">
                            <span [innerHTML]="agentTransactionObject.goods.price.chekhi.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="agentTransactionObject.goods.price.chekhi.altyny" class="form-data">
                            <span [innerHTML]="agentTransactionObject.goods.price.chekhi.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="agentTransactionObject.goods.price.chekhi.dengi" class="form-data">
                            <span [innerHTML]="agentTransactionObject.goods.price.chekhi.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                      </ul>
                    </div>

                    <div *ngIf="deed.schemaVersion === 2">
                      <div class="list-group-item col-12">Price in:
                        <ng-template ngFor let-pricegoods [ngForOf]="agentTransactionObject.goods.price" let-o="index">
                          <div>
                            <span class="form-data" [innerHTML]="pricegoods.coins | highlight: term"></span>:
                            <span class="form-data" [innerHTML]="pricegoods.rubli | highlight: term"></span> rubli
                            <span class="form-data" [innerHTML]="pricegoods.altyny | highlight: term"></span>
                            altyny
                            <span class="form-data" [innerHTML]="pricegoods.dengi | highlight: term"></span> dengi
                          </div>
                        </ng-template>
                      </div>
                    </div>



                  </div>
                </div>
                <div *ngIf="agentTransactionObject.immovableProperty">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Immovable Property</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.immovableProperty.type" class="list-group-item">
                        Type:
                        <span class="form-data" [innerHTML]="agentTransactionObject.immovableProperty.type | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.immovableProperty.otherImmovablePropertyType" class="list-group-item">
                        Other Type:
                        <span class="form-data" [innerHTML]="agentTransactionObject.immovableProperty.otherImmovablePropertyType | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.immovableProperty.share" class="list-group-item">
                        Share:
                        <span class="form-data" [innerHTML]="agentTransactionObject.immovableProperty.share | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.immovableProperty.otherImmovablePropertyShare" class="list-group-item">
                        Other Share:
                        <span class="form-data" [innerHTML]="agentTransactionObject.immovableProperty.otherImmovablePropertyShare | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.immovableProperty.origin" class="list-group-item">
                        Origin:
                        <span class="form-data" [innerHTML]="agentTransactionObject.immovableProperty.origin | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.immovableProperty.localisation" class="list-group-item">
                        Localisation:
                        <span class="form-data" [innerHTML]="agentTransactionObject.immovableProperty.localisation | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.immovableProperty.neighbours" class="list-group-item">
                        Neighbours:
                        <span class="form-data" [innerHTML]="agentTransactionObject.immovableProperty.neighbours | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.immovableProperty.surface" class="list-group-item">
                        Surface:
                        <span *ngIf="agentTransactionObject.immovableProperty.surface.chetiVpole" class="form-data">
                          <span [innerHTML]="agentTransactionObject.immovableProperty.surface.chetiVpole | highlight: term"></span>
                          cheti v pole
                        </span>
                        <span *ngIf="agentTransactionObject.immovableProperty.surface.sazheni.x" class="form-data">
                          <span [innerHTML]="agentTransactionObject.immovableProperty.surface.sazheni.x | highlight: term"></span>
                          X
                          <span [innerHTML]="agentTransactionObject.immovableProperty.surface.sazheni.y | highlight: term + ' sazheni'"></span>
                        </span>
                      </li>
                      <li *ngIf="agentTransactionObject.immovableProperty.population.male || agentTransactionObject.immovableProperty.population.female || agentTransactionObject.immovableProperty.population.households"
                        class="list-group-item">
                        Population (souls):
                        <span *ngIf="agentTransactionObject.immovableProperty.population.male" class="form-data">
                          <span [innerHTML]="agentTransactionObject.immovableProperty.population.male | highlight: term"></span>
                          male /
                        </span>
                        <span *ngIf="agentTransactionObject.immovableProperty.population.female" class="form-data">
                          <span [innerHTML]="agentTransactionObject.immovableProperty.population.female | highlight: term"></span>
                          female
                        </span>
                        <span *ngIf="agentTransactionObject.immovableProperty.population.households" class="form-data">
                          <span [innerHTML]="agentTransactionObject.immovableProperty.population.operator"></span>
                          <span [innerHTML]="agentTransactionObject.immovableProperty.population.households | highlight: term"></span>
                          households
                        </span>
                      </li>
                      <li *ngIf="agentTransactionObject.immovableProperty.buildings" class="list-group-item">
                        Buildings:
                        <span class="form-data" [innerHTML]="agentTransactionObject.immovableProperty.buildings | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.immovableProperty.appurtenances" class="list-group-item">
                        Appurtenances:
                        <span class="form-data" [innerHTML]="agentTransactionObject.immovableProperty.appurtenances | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.money" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Money</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <div *ngIf="deed.schemaVersion === 1">
                      <ul class="list-group">
                        <li *ngIf="agentTransactionObject.money.amount.moscowSilver.rubli || agentTransactionObject.money.amount.moscowSilver.altyny || agentTransactionObject.money.amount.moscowSilver.dengi"
                          class="list-group-item">
                          Amount in Moscow Silver:
                          <span *ngIf="agentTransactionObject.money.amount.moscowSilver.rubli" class="form-data">
                            <span [innerHTML]="agentTransactionObject.money.amount.moscowSilver.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="agentTransactionObject.money.amount.moscowSilver.altyny" class="form-data">
                            <span [innerHTML]="agentTransactionObject.money.amount.moscowSilver.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="agentTransactionObject.money.amount.moscowSilver.dengi" class="form-data">
                            <span [innerHTML]="agentTransactionObject.money.amount.moscowSilver.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                        <li *ngIf="agentTransactionObject.money.amount.chekhi.rubli || agentTransactionObject.money.amount.chekhi.altyny || agentTransactionObject.money.amount.chekhi.dengi"
                          class="list-group-item">
                          Amount in Chekhi:
                          <span *ngIf="agentTransactionObject.money.amount.chekhi.rubli" class="form-data">
                            <span [innerHTML]="agentTransactionObject.money.amount.chekhi.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="agentTransactionObject.money.amount.chekhi.altyny" class="form-data">
                            <span [innerHTML]="agentTransactionObject.money.amount.chekhi.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="agentTransactionObject.money.amount.chekhi.dengi" class="form-data">
                            <span [innerHTML]="agentTransactionObject.money.amount.chekhi.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                      </ul>
                    </div>

                    <div *ngIf="deed.schemaVersion === 2">
                      <div class="list-group-item col-12">Amount in:
                        <ng-template ngFor let-moneyamount [ngForOf]="agentTransactionObject.money" let-o="index">
                          <div>
                            <span class="form-data" [innerHTML]="moneyamount.coins | highlight: term"></span>:
                            <span class="form-data" [innerHTML]="moneyamount.rubli | highlight: term"></span> rubli
                            <span class="form-data" [innerHTML]="moneyamount.altyny | highlight: term"></span>
                            altyny
                            <span class="form-data" [innerHTML]="moneyamount.dengi | highlight: term"></span> dengi
                          </div>
                        </ng-template>
                      </div>
                    </div>

                  </div>
                </div>
                <div *ngIf="agentTransactionObject.parent" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Parent</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.parent.coAgentNumber" class="list-group-item">
                        Co-Agent Number:
                        <span class="form-data" [innerHTML]="agentTransactionObject.parent.coAgentNumber | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.responsibilities" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Responsabilities</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.responsibilities.description" class="list-group-item">
                        Description:
                        <span class="form-data" [innerHTML]="agentTransactionObject.responsibilities.description | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.shareFromEstate" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Share from Estate</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.shareFromEstate.share" class="list-group-item">
                        Share:
                        <span class="form-data" [innerHTML]="agentTransactionObject.shareFromEstate.share | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.shareFromEstate.otherShareFromEstate" class="list-group-item">
                        Other Share:
                        <span class="form-data" [innerHTML]="agentTransactionObject.shareFromEstate.otherShareFromEstate | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.shareFromEstate.description" class="list-group-item">
                        Description:
                        <span class="form-data" [innerHTML]="agentTransactionObject.shareFromEstate.description | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.souls" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Souls</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.souls.juridicalStatus" class="list-group-item">
                        Juridical Status:
                        <span class="form-data" [innerHTML]="agentTransactionObject.souls.juridicalStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.souls.numberOfSouls.male || agentTransactionObject.souls.numberOfSouls.female || agentTransactionObject.souls.numberOfSouls.households"
                        class="list-group-item">
                        Number of Souls:
                        <span *ngIf="agentTransactionObject.souls.numberOfSouls.male" class="form-data">
                          <span [innerHTML]="agentTransactionObject.souls.numberOfSouls.male | highlight: term"></span>
                          male
                        </span>
                        <span *ngIf="agentTransactionObject.souls.numberOfSouls.female" class="form-data">
                          <span [innerHTML]="agentTransactionObject.souls.numberOfSouls.female | highlight: term"></span>
                          female
                        </span>
                        <span *ngIf="agentTransactionObject.souls.numberOfSouls.households" class="form-data">
                          <span [innerHTML]="agentTransactionObject.souls.numberOfSouls.operator"></span>
                          <span [innerHTML]="agentTransactionObject.souls.numberOfSouls.households | highlight: term"></span>
                          households
                        </span>
                      </li>
                      <li *ngIf="agentTransactionObject.souls.names" class="list-group-item">
                        Names:
                        <span class="form-data" [innerHTML]="agentTransactionObject.souls.names | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.souls.yearsOfRent" class="list-group-item">
                        Years of Rent:
                        <span class="form-data" [innerHTML]="agentTransactionObject.souls.yearsOfRent | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.other" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Other object</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.other" class="list-group-item">
                        Other:
                        <span class="form-data" [innerHTML]="agentTransactionObject.other | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.asWhom === 'as hired worker'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Hired Worker</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.toDoWhat" class="list-group-item">
                        To Do:
                        <span class="form-data" [innerHTML]="agentTransactionObject.toDoWhat | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.asWhom === 'in household'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">In Household</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.withFamily" class="list-group-item">
                        With Family:
                        <span class="form-data" [innerHTML]="agentTransactionObject.withFamily | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.asWhom === 'as son-in-law'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Son-in-law</h5>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.asWhom === 'as bondman'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Bondman</h5>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.asWhom === 'as peasant'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Peasant</h5>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.asWhom === 'as contractor'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Contractor</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.activity" class="list-group-item">
                        Activity:
                        <span class="form-data" [innerHTML]="agentTransactionObject.activity | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.asWhom === 'as tax-farmer'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Tax-Farmer</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.type" class="list-group-item">
                        Type:
                        <span class="form-data" [innerHTML]="agentTransactionObject.type | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.description" class="list-group-item">
                        Description:
                        <span class="form-data" [innerHTML]="agentTransactionObject.description | highlight: term"></span>
                      </li>
                      <li *ngIf="agentTransactionObject.annualRent" class="list-group-item">
                        Annual Rent:
                        <span *ngIf="agentTransactionObject.annualRent.rubli" class="form-data">
                          <span [innerHTML]="agentTransactionObject.annualRent.rubli | highlight: term"></span> rubli
                        </span>
                        <span *ngIf="agentTransactionObject.annualRent.altyny" class="form-data">
                          <span [innerHTML]="agentTransactionObject.annualRent.altyny | highlight: term"></span> altyny
                        </span>
                        <span *ngIf="agentTransactionObject.annualRent.dengi" class="form-data">
                          <span [innerHTML]="agentTransactionObject.annualRent.dengi | highlight: term"></span> den'gi
                        </span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.asWhom === 'as teacher'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Teacher</h5>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.asWhom === 'as neighbour'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Neighbour</h5>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="agentTransactionObject.asWhom === 'other'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Other</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="agentTransactionObject.other" class="list-group-item">
                        Other:
                        <span class="form-data" [innerHTML]="agentTransactionObject.other | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
              </ng-template>


              <!-- COUNTER AGENT ACTION -->
              <div *ngIf="transaction.counterAgentAction" class="alert alert-info">
                <h5 class="text-center p-3">The Counter Agent
                  <span class="text-uppercase" [innerHTML]="transaction.counterAgentAction | highlight: term"></span>
                </h5>
              </div>
              <li *ngIf="transaction.otherCounterAgentAction" class="list-group-item">
                <strong>Other Counter Agent Action: </strong>
                <span class="form-data" [innerHTML]="transaction.otherCounterAgentAction | highlight: term"></span>
              </li>
              <li *ngIf="transaction.accusationAgainstCounterAgent" class="list-group-item">
                <strong>Accusation against Counter-Agent: </strong>
                <span class="form-data" [innerHTML]="transaction.accusationAgainstCounterAgent | highlight: term"></span>
              </li>
              <li *ngIf="transaction.juridicalProcedureStage" class="list-group-item">
                <strong>Juridical Procedure Stage: </strong>
                <span class="form-data" [innerHTML]="transaction.juridicalProcedureStage | highlight: term"></span>
              </li>

              <ng-template ngFor let-counterAgentTransactionObject [ngForOf]="transaction.counterAgentTransactionObjects"
                let-j="index">
                <div *ngIf="counterAgentTransactionObject.chattels" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Chattels</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.chattels.type" class="list-group-item">
                        Chattels Type:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.chattels.type | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.chattels.origin" class="list-group-item">
                        Chattels Origin:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.chattels.origin | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.chattels.description" class="list-group-item">
                        Chattels Description:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.chattels.description | highlight: term"></span>
                      </li>
                      <div *ngIf="deed.schemaVersion === 1">
                        <li *ngIf="counterAgentTransactionObject.chattels.price" class="list-group-item">
                          Chattels Price:
                          <span class="form-data" [innerHTML]="counterAgentTransactionObject.chattels.price | highlight: term"></span>
                        </li>
                      </div>

                      <div *ngIf="deed.schemaVersion === 2">
                        <div class="list-group-item col-12">Price in:
                          <ng-template ngFor let-price [ngForOf]="counterAgentTransactionObject.chattels.price" let-o="index">
                            <div>
                              <span class="form-data" [innerHTML]="price.coins | highlight: term"></span>:
                              <span class="form-data" [innerHTML]="price.rubli | highlight: term"></span> rubli
                              <span class="form-data" [innerHTML]="price.altyny | highlight: term"></span>
                              altyny
                              <span class="form-data" [innerHTML]="price.dengi | highlight: term"></span> dengi
                            </div>
                          </ng-template>
                        </div>
                      </div>

                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.debt" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Debt</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <div *ngIf="deed.schemaVersion === 1">

                        <li *ngIf="counterAgentTransactionObject.debt.amount.moscowSilver.rubli || counterAgentTransactionObject.debt.amount.moscowSilver.altyny || counterAgentTransactionObject.debt.amount.moscowSilver.dengi"
                          class="list-group-item">
                          Amount in Moscow Silver:
                          <span *ngIf="counterAgentTransactionObject.debt.amount.moscowSilver.rubli" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.debt.amount.moscowSilver.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="counterAgentTransactionObject.debt.amount.moscowSilver.altyny" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.debt.amount.moscowSilver.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="counterAgentTransactionObject.debt.amount.moscowSilver.dengi" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.debt.amount.moscowSilver.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                        <li *ngIf="counterAgentTransactionObject.debt.amount.chekhi.rubli || counterAgentTransactionObject.debt.amount.chekhi.altyny || counterAgentTransactionObject.debt.amount.chekhi.dengi"
                          class="list-group-item">
                          Amount in Chekhi:
                          <span *ngIf="counterAgentTransactionObject.debt.amount.chekhi.rubli" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.debt.amount.chekhi.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="counterAgentTransactionObject.debt.amount.chekhi.altyny" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.debt.amount.chekhi.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="counterAgentTransactionObject.debt.amount.chekhi.dengi" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.debt.amount.chekhi.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                      </div>
                      <div *ngIf="deed.schemaVersion === 2">
                        <div class="list-group-item col-12">Amount in:
                          <ng-template ngFor let-debtamount [ngForOf]="counterAgentTransactionObject.debt.amount" let-o="index">
                            <div>
                              <span class="form-data" [innerHTML]="debtamount.coins | highlight: term"></span>:
                              <span class="form-data" [innerHTML]="debtamount.rubli | highlight: term"></span> rubli
                              <span class="form-data" [innerHTML]="debtamount.altyny | highlight: term"></span>
                              altyny
                              <span class="form-data" [innerHTML]="debtamount.dengi | highlight: term"></span> dengi
                            </div>
                          </ng-template>
                        </div>
                      </div>
                      <li *ngIf="counterAgentTransactionObject.debt.debtorName" class="list-group-item">
                        Debtor Name:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.debt.debtorName | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.debt.debtDate" class="list-group-item">
                        Debt Date:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.debt.debtDate | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.dependent" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Dependent</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.dependent.familyStatus" class="list-group-item">
                        Family Status:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.dependent.familyStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.dependent.firstName" class="list-group-item">
                        First Name:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.dependent.firstName | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.dependent.patronyme" class="list-group-item">
                        Patronyme:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.dependent.patronyme | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.dependent.lastName" class="list-group-item">
                        Last Name:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.dependent.lastName | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.dependent.relationToAgent" class="list-group-item">
                        Relation To Agent:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.dependent.relationToAgent | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.forfeit" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Forfeit</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">

                    <div *ngIf="deed.schemaVersion === 1">

                      <ul class="list-group">

                        <li *ngIf="counterAgentTransactionObject.forfeit.moscowSilver.rubli || counterAgentTransactionObject.forfeit.moscowSilver.altyny || counterAgentTransactionObject.forfeit.moscowSilver.dengi"
                          class="list-group-item">
                          Amount in Moscow Silver:
                          <span *ngIf="counterAgentTransactionObject.forfeit.moscowSilver.rubli" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.forfeit.moscowSilver.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="counterAgentTransactionObject.forfeit.moscowSilver.altyny" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.forfeit.moscowSilver.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="counterAgentTransactionObject.forfeit.moscowSilver.dengi" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.forfeit.moscowSilver.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                        <li *ngIf="counterAgentTransactionObject.forfeit.chekhi.rubli || counterAgentTransactionObject.forfeit.chekhi.altyny || counterAgentTransactionObject.forfeit.chekhi.dengi"
                          class="list-group-item">
                          Amount in Chekhi:
                          <span *ngIf="counterAgentTransactionObject.forfeit.chekhi.rubli" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.forfeit.chekhi.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="counterAgentTransactionObject.forfeit.chekhi.altyny" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.forfeit.chekhi.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="counterAgentTransactionObject.forfeit.chekhi.dengi" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.forfeit.chekhi.altyny | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                      </ul>
                    </div>

                    <div *ngIf="deed.schemaVersion === 2">
                      <div class="list-group-item col-12">Amount in:
                        <ng-template ngFor let-forfeitamount [ngForOf]="counterAgentTransactionObject.forfeit" let-o="index">
                          <div>
                            <span class="form-data" [innerHTML]="forfeitamount.coins | highlight: term"></span>:
                            <span class="form-data" [innerHTML]="forfeitamount.rubli | highlight: term"></span> rubli
                            <span class="form-data" [innerHTML]="forfeitamount.altyny | highlight: term"></span>
                            altyny
                            <span class="form-data" [innerHTML]="forfeitamount.dengi | highlight: term"></span> dengi
                          </div>
                        </ng-template>
                      </div>
                    </div>


                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.fugitiveSouls" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Fugitive Souls</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.fugitiveSouls.juridicalStatus" class="list-group-item">
                        Family Status:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.fugitiveSouls.juridicalStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.fugitiveSouls.numberOfSouls" class="list-group-item">
                        Number of Souls:
                        <span *ngIf="counterAgentTransactionObject.fugitiveSouls.numberOfSouls.male" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.fugitiveSouls.numberOfSouls.male | highlight: term"></span>
                          male /
                        </span>
                        <span *ngIf="counterAgentTransactionObject.fugitiveSouls.numberOfSouls.female" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.fugitiveSouls.numberOfSouls.female | highlight: term"></span>
                          female
                        </span>
                        <span *ngIf="counterAgentTransactionObject.fugitiveSouls.numberOfSouls.households" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.fugitiveSouls.numberOfSouls.operator"></span>
                          <span [innerHTML]="counterAgentTransactionObject.fugitiveSouls.numberOfSouls.households | highlight: term"></span>
                          households
                        </span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.fugitiveSouls.names" class="list-group-item">
                        Names:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.fugitiveSouls.names | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.fugitiveSouls.yearsOfRent" class="list-group-item">
                        Years of Rent:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.fugitiveSouls.yearsOfRent | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.goods" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Goods</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <div *ngIf="deed.schemaVersion === 1">
                      <ul class="list-group">
                        <li *ngIf="counterAgentTransactionObject.goods.type" class="list-group-item">
                          Type:
                          <span class="form-data" [innerHTML]="counterAgentTransactionObject.goods.type | highlight: term"></span>
                        </li>
                        <li *ngIf="counterAgentTransactionObject.goods.description" class="list-group-item">
                          Description:
                          <span class="form-data" [innerHTML]="counterAgentTransactionObject.goods.description | highlight: term"></span>
                        </li>
                        <li *ngIf="counterAgentTransactionObject.goods.price.moscowSilver.rubli || counterAgentTransactionObject.goods.price.moscowSilver.altyny || counterAgentTransactionObject.goods.price.moscowSilver.dengi"
                          class="list-group-item">
                          Price in Moscow Silver:
                          <span *ngIf="counterAgentTransactionObject.goods.price.moscowSilver.rubli" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.goods.price.moscowSilver.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="counterAgentTransactionObject.goods.price.moscowSilver.altyny" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.goods.price.moscowSilver.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="counterAgentTransactionObject.goods.price.moscowSilver.dengi" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.goods.price.moscowSilver.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                        <li *ngIf="counterAgentTransactionObject.goods.price.chekhi.rubli || counterAgentTransactionObject.goods.price.chekhi.altyny || counterAgentTransactionObject.goods.price.chekhi.dengi"
                          class="list-group-item">
                          Price in Chekhi:
                          <span *ngIf="counterAgentTransactionObject.goods.price.chekhi.rubli" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.goods.price.chekhi.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="counterAgentTransactionObject.goods.price.chekhi.altyny" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.goods.price.chekhi.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="counterAgentTransactionObject.goods.price.chekhi.dengi" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.goods.price.chekhi.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                      </ul>
                    </div>

                    <div *ngIf="deed.schemaVersion === 2">
                      <div class="list-group-item col-12">Price in:
                        <ng-template ngFor let-goodsprice [ngForOf]="counterAgentTransactionObject.goods.price" let-o="index">
                          <div>
                            <span class="form-data" [innerHTML]="goodsprice.coins | highlight: term"></span>:
                            <span class="form-data" [innerHTML]="goodsprice.rubli | highlight: term"></span> rubli
                            <span class="form-data" [innerHTML]="goodsprice.altyny | highlight: term"></span>
                            altyny
                            <span class="form-data" [innerHTML]="goodsprice.dengi | highlight: term"></span> dengi
                          </div>
                        </ng-template>
                      </div>
                    </div>



                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.immovableProperty">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Immovable Property</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.immovableProperty.type" class="list-group-item">
                        Type:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.immovableProperty.type | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.immovableProperty.otherImmovablePropertyType" class="list-group-item">
                        Other Type:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.immovableProperty.otherImmovablePropertyType | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.immovableProperty.share" class="list-group-item">
                        Share:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.immovableProperty.share | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.immovableProperty.otherImmovablePropertyShare" class="list-group-item">
                        Other Share:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.immovableProperty.otherImmovablePropertyShare | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.immovableProperty.origin" class="list-group-item">
                        Origin:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.immovableProperty.origin | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.immovableProperty.localisation" class="list-group-item">
                        Localisation:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.immovableProperty.localisation | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.immovableProperty.neighbours" class="list-group-item">
                        Neighbours:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.immovableProperty.neighbours | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.immovableProperty.surface" class="list-group-item">
                        Surface:
                        <span *ngIf="counterAgentTransactionObject.immovableProperty.surface.chetiVpole" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.immovableProperty.surface.chetiVpole | highlight: term"></span>
                          cheti v pole
                        </span>
                        <span *ngIf="counterAgentTransactionObject.immovableProperty.surface.sazheni.x" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.immovableProperty.surface.sazheni.x | highlight: term"></span>
                          X
                          <span [innerHTML]="counterAgentTransactionObject.immovableProperty.surface.sazheni.y | highlight: term"></span>
                          sazheni
                        </span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.immovableProperty.population.male || counterAgentTransactionObject.immovableProperty.population.female || counterAgentTransactionObject.immovableProperty.population.households"
                        class="list-group-item">
                        Population (souls):
                        <span *ngIf="counterAgentTransactionObject.immovableProperty.population.male" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.immovableProperty.population.male | highlight: term"></span>
                          male /
                        </span>
                        <span *ngIf="counterAgentTransactionObject.immovableProperty.population.female" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.immovableProperty.population.female | highlight: term"></span>
                          female
                        </span>
                        <span *ngIf="counterAgentTransactionObject.immovableProperty.population.households" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.immovableProperty.population.operator"></span>
                          <span [innerHTML]="counterAgentTransactionObject.immovableProperty.population.households | highlight: term"></span>
                          households
                        </span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.immovableProperty.buildings" class="list-group-item">
                        Buildings:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.immovableProperty.buildings | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.immovableProperty.appurtenances" class="list-group-item">
                        Appurtenances:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.immovableProperty.appurtenances | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.money" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Money</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <div *ngIf="deed.schemaVersion === 1">
                      <ul class="list-group">
                        <li *ngIf="counterAgentTransactionObject.money.amount.moscowSilver.rubli || counterAgentTransactionObject.money.amount.moscowSilver.altyny || counterAgentTransactionObject.money.amount.moscowSilver.dengi"
                          class="list-group-item">
                          Amount in Moscow Silver:
                          <span *ngIf="counterAgentTransactionObject.money.amount.moscowSilver.rubli" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.money.amount.moscowSilver.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="counterAgentTransactionObject.money.amount.moscowSilver.altyny" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.money.amount.moscowSilver.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="counterAgentTransactionObject.money.amount.moscowSilver.dengi" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.money.amount.moscowSilver.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                        <li *ngIf="counterAgentTransactionObject.money.amount.chekhi.rubli || counterAgentTransactionObject.money.amount.chekhi.altyny || counterAgentTransactionObject.money.amount.chekhi.dengi"
                          class="list-group-item">
                          Amount in Chekhi:
                          <span *ngIf="counterAgentTransactionObject.money.amount.chekhi.rubli" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.money.amount.chekhi.rubli | highlight: term"></span>
                            rubli
                          </span>
                          <span *ngIf="counterAgentTransactionObject.money.amount.chekhi.altyny" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.money.amount.chekhi.altyny | highlight: term"></span>
                            altyny
                          </span>
                          <span *ngIf="counterAgentTransactionObject.money.amount.chekhi.dengi" class="form-data">
                            <span [innerHTML]="counterAgentTransactionObject.money.amount.chekhi.dengi | highlight: term"></span>
                            den'gi
                          </span>
                        </li>
                      </ul>
                    </div>

                    <div *ngIf="deed.schemaVersion === 2">
                      <div class="list-group-item col-12">Amount in:
                        <ng-template ngFor let-moneyamount [ngForOf]="counterAgentTransactionObject.money" let-o="index">
                          <div>
                            <span class="form-data" [innerHTML]="moneyamount.coins | highlight: term"></span>:
                            <span class="form-data" [innerHTML]="moneyamount.rubli | highlight: term"></span> rubli
                            <span class="form-data" [innerHTML]="moneyamount.altyny | highlight: term"></span>
                            altyny
                            <span class="form-data" [innerHTML]="moneyamount.dengi | highlight: term"></span> dengi
                          </div>
                        </ng-template>
                      </div>
                    </div>


                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.parent" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Parent</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.parent.coCounterAgentNumber" class="list-group-item">
                        Co-Counter Agent Number:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.parent.coCounterAgentNumber | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.responsibilities" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Responsabilities</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.responsibilities.description" class="list-group-item">
                        Description:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.responsibilities.description | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.shareFromEstate" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Share from Estate</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.shareFromEstate.share" class="list-group-item">
                        Share:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.shareFromEstate.share | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.shareFromEstate.otherShareFromEstate" class="list-group-item">
                        Other Share:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.shareFromEstate.otherShareFromEstate | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.shareFromEstate.description" class="list-group-item">
                        Description:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.shareFromEstate.description | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.souls" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Souls</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.souls.juridicalStatus" class="list-group-item">
                        Juridical Status:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.souls.juridicalStatus | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.souls.numberOfSouls.male || counterAgentTransactionObject.souls.numberOfSouls.female || counterAgentTransactionObject.souls.numberOfSouls.households"
                        class="list-group-item">
                        Number of Souls:
                        <span *ngIf="counterAgentTransactionObject.souls.numberOfSouls.male" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.souls.numberOfSouls.male | highlight: term"></span>
                          male /
                        </span>
                        <span *ngIf="counterAgentTransactionObject.souls.numberOfSouls.female" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.souls.numberOfSouls.female | highlight: term"></span>
                          female
                        </span>
                        <span *ngIf="counterAgentTransactionObject.souls.numberOfSouls.households" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.souls.numberOfSouls.operator"></span>
                          <span [innerHTML]="counterAgentTransactionObject.souls.numberOfSouls.households | highlight: term"></span>
                          households
                        </span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.souls.names" class="list-group-item">
                        Names:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.souls.names | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.souls.yearsOfRent" class="list-group-item">
                        Years of Rent:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.souls.yearsOfRent | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.other" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">Other object</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.other" class="list-group-item">
                        Other:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.other | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.asWhom === 'as hired worker'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Hired Worker</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.toDoWhat" class="list-group-item">
                        To Do:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.toDoWhat | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.asWhom === 'in household'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">In Household</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.withFamily" class="list-group-item">
                        With Family:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.withFamily | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.asWhom === 'as son-in-law'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Son-in-law</h5>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.asWhom === 'as bondman'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Bondman</h5>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.asWhom === 'as peasant'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Peasant</h5>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.asWhom === 'as contractor'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Contractor</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.activity" class="list-group-item">
                        Activity:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.activity | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.asWhom === 'as tax-farmer'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Tax-Farmer</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.type" class="list-group-item">
                        Type:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.type | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.description" class="list-group-item">
                        Description:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.description | highlight: term"></span>
                      </li>
                      <li *ngIf="counterAgentTransactionObject.annualRent" class="list-group-item">
                        Annual Rent:
                        <span *ngIf="counterAgentTransactionObject.annualRent.rubli" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.annualRent.rubli | highlight: term"></span>
                          rubli
                        </span>
                        <span *ngIf="counterAgentTransactionObject.annualRent.altyny" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.annualRent.altyny | highlight: term"></span>
                          altyny
                        </span>
                        <span *ngIf="counterAgentTransactionObject.annualRent.dengi" class="form-data">
                          <span [innerHTML]="counterAgentTransactionObject.annualRent.dengi | highlight: term"></span>
                          den'gi
                        </span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.asWhom === 'as teacher'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Teacher</h5>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.asWhom === 'as neighbour'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Neighbour</h5>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="counterAgentTransactionObject.asWhom === 'other'" class="card mb-3">
                  <div class="card-header">
                    <div class="row justify-content-center">
                      <div class="col-4">
                        <h5 class="text-center">As Other</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li *ngIf="counterAgentTransactionObject.other" class="list-group-item">
                        Other:
                        <span class="form-data" [innerHTML]="counterAgentTransactionObject.other | highlight: term"></span>
                      </li>
                    </ul>
                  </div>
                </div>
              </ng-template>
              <div class="card mb-3">
                <div class="card-header">
                  <div class="row justify-content-center">
                    <div class="col-4">
                      <h5 class="text-center">Contract Information</h5>
                    </div>
                  </div>
                </div>
                <div class="card-body">
                  <ul class="list-group">
                    <li *ngIf="transaction.advancePayment" class="list-group-item">
                      Advance Payment:
                      <span class="form-data" [innerHTML]="transaction.advancePayment | highlight: term"></span>
                    </li>
                    <li *ngIf="transaction.partialAdvance" class="list-group-item">
                      Partial Advance:
                      <span class="form-data" [innerHTML]="transaction.partialAdvance | highlight: term"></span>
                    </li>
                    <li *ngIf="transaction.contractConditions" class="list-group-item">
                      Contract Conditions:
                      <span class="form-data" [innerHTML]="transaction.contractConditions | highlight: term"></span>
                    </li>
                    <li *ngIf="transaction.contractDuration" class="list-group-item">
                      Contract Duration:
                      <span class="form-data" [innerHTML]="transaction.contractDuration | highlight: term"></span>
                    </li>
                    <li *ngIf="transaction.forfeit" class="list-group-item">
                      Forfeit:
                      <span class="form-data" [innerHTML]="transaction.forfeit | highlight: term"></span>
                    </li>
                    <li *ngIf="transaction.notesOnReverseSide" class="list-group-item">
                      Notes on reverse side:
                      <span class="form-data" [innerHTML]="transaction.notesOnReverseSide | highlight: term"></span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </div>
      <!-- END TRANSACTIONS card-body-->
    </div>
    <!-- END TRANSACTIONS CARD-->

    <!-- ACCESSORIES TO CONTRACT -->
    <div class="card shadow mb-3">
      <div class="card-body">
        <div class="text-center">
          <h3>
            <i class="fa fa-eye"></i> Accessories to contract</h3>
          <hr class="mt-2 mb-2">
        </div>
        <div *ngIf="deed.whitnesses.length > 0">
          <ng-template ngFor let-whitness [ngForOf]="deed.whitnesses" let-i="index">
            <div class="card mb-3">
              <div class="card-header blue-grey lighten-1">
                <div class="row justify-content-center">
                  <div class="col-4">
                    <h5 class="text-center">Whitness {{i + 1}}</h5>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="list-group">
                  <li *ngIf="whitness.whitness.geogrStatus" class="list-group-item">
                    Geogr Status:
                    <span class="form-data" [innerHTML]="whitness.whitness.geogrStatus | highlight: term"></span>
                  </li>
                  <li *ngIf="whitness.whitness.socialStatus" class="list-group-item">
                    Social Status:
                    <span class="form-data" [innerHTML]="whitness.whitness.socialStatus | highlight: term"></span>
                  </li>
                  <li *ngIf="whitness.whitness.firstName" class="list-group-item">
                    First Name:
                    <span class="form-data" [innerHTML]="whitness.whitness.firstName | highlight: term"></span>
                  </li>
                  <li *ngIf="whitness.whitness.patronyme" class="list-group-item">
                    Patronyme:
                    <span class="form-data" [innerHTML]="whitness.whitness.patronyme | highlight: term"></span>
                  </li>
                  <li *ngIf="whitness.whitness.lastName" class="list-group-item">
                    Last Name:
                    <span class="form-data" [innerHTML]="whitness.whitness.lastName | highlight: term"></span>
                  </li>
                  <li *ngIf="whitness.whitness.relatedTo" class="list-group-item">
                    Related To:
                    <span class="form-data" [innerHTML]="whitness.whitness.relatedTo | highlight: term"></span>
                  </li>
                </ul>
              </div>
            </div>
          </ng-template>
        </div>
        <div *ngIf="deed.sureties.length > 0">
          <ng-template ngFor let-surety [ngForOf]="deed.sureties" let-i="index">
            <div class="card mb-3">
              <div class="card-header blue-grey lighten-2">
                <div class="row justify-content-center">
                  <div class="col-4">
                    <h5 class="text-center">Surety {{ i + 1 }}</h5>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="list-group">
                  <li *ngIf="surety.surety.geogrStatus" class="list-group-item">
                    Geogr Status:
                    <span class="form-data" [innerHTML]="surety.surety.geogrStatus | highlight: term"></span>
                  </li>
                  <li *ngIf="surety.surety.socialStatus" class="list-group-item">
                    Social Status:
                    <span class="form-data" [innerHTML]="surety.surety.socialStatus | highlight: term"></span>
                  </li>
                  <li *ngIf="surety.surety.firstName" class="list-group-item">
                    First Name:
                    <span class="form-data" [innerHTML]="surety.surety.firstName | highlight: term"></span>
                  </li>
                  <li *ngIf="surety.surety.patronyme" class="list-group-item">
                    Patronyme:
                    <span class="form-data" [innerHTML]="surety.surety.patronyme | highlight: term"></span>
                  </li>
                  <li *ngIf="surety.surety.lastName" class="list-group-item">
                    Last Name:
                    <span class="form-data" [innerHTML]="surety.surety.lastName | highlight: term"></span>
                  </li>
                  <li *ngIf="surety.surety.relatedTo" class="list-group-item">
                    Related To:
                    <span class="form-data" [innerHTML]="surety.surety.relatedTo | highlight: term"></span>
                  </li>
                </ul>
              </div>
            </div>
          </ng-template>
        </div>
        <div *ngIf="deed.scribe" class="card mb-3">
          <div class="card-header blue-grey lighten-3">
            <div class="row justify-content-center">
              <div class="col-4">
                <h5 class="text-center">Scribe</h5>
              </div>
            </div>
          </div>
          <div class="card-body">
            <ul class="list-group">
              <li *ngIf="deed.scribe.geogrStatus" class="list-group-item">
                Geogr Status:
                <span class="form-data" [innerHTML]="deed.scribe.geogrStatus | highlight: term"></span>
              </li>
              <li *ngIf="deed.scribe.socialStatus" class="list-group-item">
                Social Status:
                <span class="form-data" [innerHTML]="deed.scribe.socialStatus | highlight: term"></span>
              </li>
              <li *ngIf="deed.scribe.firstName" class="list-group-item">
                First Name:
                <span class="form-data" [innerHTML]="deed.scribe.firstName | highlight: term"></span>
              </li>
              <li *ngIf="deed.scribe.patronyme" class="list-group-item">
                Patronyme:
                <span class="form-data" [innerHTML]="deed.scribe.patronyme | highlight: term"></span>
              </li>
              <li *ngIf="deed.scribe.lastName" class="list-group-item">
                Last Name:
                <span class="form-data" [innerHTML]="deed.scribe.lastName | highlight: term"></span>
              </li>
              <li *ngIf="deed.scribe.relatedTo" class="list-group-item">
                Related To:
                <span class="form-data" [innerHTML]="deed.scribe.relatedTo | highlight: term"></span>
              </li>
            </ul>
          </div>
        </div>
        <div *ngIf="deed.otherParticipants.length > 0">
          <ng-template ngFor let-otherParticipant [ngForOf]="deed.otherParticipants" let-i="index">
            <div class="card mb-3">
              <div class="card-header blue-grey lighten-4">
                <div class="row justify-content-center">
                  <div class="col-4">
                    <h5 class="text-center">Other Participant {{ i + 1 }}</h5>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="list-group">
                  <li *ngIf="otherParticipant.otherParticipant.role" class="list-group-item">
                    Role:
                    <span class="form-data" [innerHTML]="otherParticipant.otherParticipant.role | highlight: term"></span>
                  </li>
                  <li *ngIf="otherParticipant.otherParticipant.geogrStatus" class="list-group-item">
                    Geogr Status:
                    <span class="form-data" [innerHTML]="otherParticipant.otherParticipant.geogrStatus | highlight: term"></span>
                  </li>
                  <li *ngIf="otherParticipant.otherParticipant.socialStatus" class="list-group-item">
                    Social Status:
                    <span class="form-data" [innerHTML]="otherParticipant.otherParticipant.socialStatus | highlight: term"></span>
                  </li>
                  <li *ngIf="otherParticipant.otherParticipant.firstName" class="list-group-item">
                    First Name:
                    <span class="form-data" [innerHTML]="otherParticipant.otherParticipant.firstName | highlight: term"></span>
                  </li>
                  <li *ngIf="otherParticipant.otherParticipant.patronyme" class="list-group-item">
                    Patronyme:
                    <span class="form-data" [innerHTML]="otherParticipant.otherParticipant.patronyme | highlight: term"></span>
                  </li>
                  <li *ngIf="otherParticipant.otherParticipant.lastName" class="list-group-item">
                    Last Name:
                    <span class="form-data" [innerHTML]="otherParticipant.otherParticipant.lastName | highlight: term"></span>
                  </li>
                  <li *ngIf="otherParticipant.otherParticipant.relatedTo" class="list-group-item">
                    Related To:
                    <span class="form-data" [innerHTML]="otherParticipant.otherParticipant.relatedTo | highlight: term"></span>
                  </li>
                </ul>
              </div>
            </div>
          </ng-template>
        </div>


      </div>
      <!-- END card-body ACCESSORIES TO CONTRACT -->
    </div>
    <!-- END CARD ACCESSORIES TO CONTRACT -->



    <!-- REGISTRATION -->
    <div class="card shadow mb-3">
      <div class="card-body">
        <div class="text-center">
          <h3>
            <i class="fa fa-pencil-square-o"></i> Registration</h3>
          <hr class="mt-2 mb-2">
        </div>
        <ul class="list-group">
          <li *ngIf="deed.registrationDate" class="list-group-item">
            Registration Date:
            <span class="form-data" [innerHTML]="deed.registrationDate | highlight: term"></span>
          </li>
        </ul>
        <div *ngIf="deed.registrator" class="card mb-3">
          <div class="card-header">
            <div class="row justify-content-center">
              <div class="col-4">
                <h5 class="text-center">Registrator</h5>
              </div>
            </div>
          </div>
          <div class="card-body">
            <ul class="list-group">
              <li *ngIf="deed.registrator.firstName" class="list-group-item">
                First Name:
                <span class="form-data" [innerHTML]="deed.registrator.firstName | highlight: term"></span>
              </li>
              <li *ngIf="deed.registrator.patronyme" class="list-group-item">
                Patronyme:
                <span class="form-data" [innerHTML]="deed.registrator.patronyme | highlight: term"></span>
              </li>
              <li *ngIf="deed.registrator.lastName" class="list-group-item">
                Last Name:
                <span class="form-data" [innerHTML]="deed.registrator.lastName | highlight: term"></span>
              </li>
              <li *ngIf="deed.registrator.relatedTo" class="list-group-item">
                Related To:
                <span class="form-data" [innerHTML]="deed.registrator.relatedTo | highlight: term"></span>
              </li>
            </ul>
          </div>
        </div>
        <div *ngIf="deed.fees.tax  || deed.fees.fee" class="card mb-3">
          <div class="card-header">
            <div class="row justify-content-center">
              <div class="col-4">
                <h5 class="text-center">Fees</h5>
              </div>
            </div>
          </div>
          <div class="card-body">
            <ul class="list-group">
              <li *ngIf="deed.fees.tax.roubles || deed.fees.tax.altyn || deed.fees.tax.denga" class="list-group-item">
                Tax:
                <span *ngIf="deed.fees.tax.roubles" class="form-data">
                  <span [innerHTML]="deed.fees.tax.roubles | highlight: term"></span> roubles
                </span>
                <span *ngIf="deed.fees.tax.altyn" class="form-data">
                  <span [innerHTML]="deed.fees.tax.altyn | highlight: term"></span> altyn
                </span>
                <span *ngIf="deed.fees.tax.denga" class="form-data">
                  <span [innerHTML]="deed.fees.tax.denga | highlight: term"></span> denga
                </span>
              </li>
              <li *ngIf="deed.fees.fee.roubles || deed.fees.fee.altyn || deed.fees.fee.denga" class="list-group-item">
                Fee:
                <span *ngIf="deed.fees.fee.roubles" class="form-data">
                  <span [innerHTML]="deed.fees.fee.roubles | highlight: term"></span> roubles
                </span>
                <span *ngIf="deed.fees.fee.altyn" class="form-data">
                  <span [innerHTML]="deed.fees.fee.altyn | highlight: term"></span> altyn
                </span>
                <span *ngIf="deed.fees.fee.denga" class="form-data">
                  <span [innerHTML]="deed.fees.fee.denga | highlight: term"></span> denga
                </span>
              </li>
            </ul>
          </div>
        </div>


      </div>
      <!-- END card-body REGISTRATION TO CONTRACT -->
    </div>
    <!-- END CARD REGISTRATION TO CONTRACT -->

    <!-- ANNEXES -->

    <div *ngIf="deed.verbatimCitations || deed.researcherNotes" class="card shadow mb-3">
      <div class="card-header">
        <div class="row justify-content-center">
          <div class="col-4">
            <h5 class="text-center">Annexes</h5>
          </div>
        </div>
      </div>
      <div class="card-body">
        <ul class="list-group">
          <li *ngIf="deed.verbatimCitations" class="list-group-item">
            Verbatim Citations:
            <span class="form-data" [innerHTML]="deed.verbatimCitations | highlight: term"></span>
          </li>
          <li *ngIf="deed.researcherNotes" class="list-group-item">
            Researcher Notes:
            <span class="form-data" [innerHTML]="deed.researcherNotes | highlight: term"></span>
          </li>
        </ul>
      </div>
    </div>

  </div>
</div>
